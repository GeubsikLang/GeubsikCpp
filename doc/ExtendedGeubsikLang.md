# Extended 급식어
Extended 급식어(이하 "확장된 급식어")는 [급식어](https://github.com/GeubsikLang/GeubsikLangSpec) 스펙의 불명확한 부분 등을 개선하여 구현체를 개발함에 있어 모호할 수 있는 부분을 줄이고 해당 스펙을 따르는 구현체들끼리의 일관성 있는 동작을 제공하는 것을 목표로 두고 설계된 스펙으로, 급식어 스펙에 맞는 모든 코드는 해당 스펙을 따르는 구현체에서 완벽히 원하는 동작을 얻을 수 있습니다.

## 표현
- `<~>`: 사용자가 채워 넣어야 하는 부분을 나타냅니다.
- `(~/~/.../~)`: 사용자가 반드시 택 1 하여 채워야 하는 부분을 나타냅니다.
- `[~/~/.../~]`: 사용자가 택 1 하여 채우거나 비워야 하는 부분을 나타냅니다.
- `{~}`: 한 세트임을 나타냅니다.
- `~*`: 0개 이상으로 채워야 함을 나타냅니다.
- `~+`: 1개 이상으로 채워야 함을 나타냅니다.

## 변수
- 확장된 급식어에서는 동적 타입 시스템을 사용합니다.
- 초기화 되지 않은 변수를 사용할 경우의 타입은 `undefiend` 입니다.
- 변수의 타입은 대입을 통해 언제든지 바꿀 수 있습니다.

### 타입
- `undefined`: 정의되지 않은 변수임을 나타냅니다. null을 나타내는 값인 `니얼굴` 값만이 유일한 `undefined` 타입의 값입니다.
- `number`: 소수(Decimal)를 저장할 수 있는 타입으로, IEEE954 부동 소수점 규격으로 구현될 경우 적어도 64비트 배정도 규격으로 구현되어야 합니다.
- `string`: 문자열을 저장할 수 있는 타입으로, UTF-8으로 인코딩 해 다룹니다.
- `function`: 함수를 저장할 수 있는 타입입니다.

### 대입
```
<이름>은 <값>인거 ㅇㅈ? ㅇ ㅇㅈ[~][ ][ㅋ]
```
해당 이름을 가진 변수에 값을 대입합니다.

### 증가
```
<이름> [ㅆ]ㅅㅌㅊㅋ
```
해당 이름을 가진 변수의 값을 1 증가 시킵니다. 해당 이름을 가진 변수의 타입이 `number`가 아닐 경우 `undefined` 타입으로 바뀝니다.

### 감소
```
<이름> [ㅆ]ㅎㅌㅊㅋ
```
해당 이름을 가진 변수의 값을 1 감소 시킵니다. 해당 이름을 가진 변수의 타입이 `number`가 아닐 경우 `undefined` 타입으로 바뀝니다.

## 함수
- 함수의 인수에는 `머머리의 <인덱스(0~)>번 머리털` 변수를 통해 접근할 수 있습니다.
- 함수의 인수에는 모든 값이 Call by Value로 전달됩니다.
- 함수의 매개 변수는 가변 매개 변수입니다. 따라서, 인수 접근 코드에서 `<인덱스>`는 단순히 0 이상의 정수인 상수일 필요는 없으며, 변수일 수도 있습니다.
	- 변수를 사용할 경우, 해당 변수의 타입이 `number`가 아니거나, 0 이상의 정수가 아닐 경우 해당 인수 접근 코드는 실제 인수를 가져오는 것이 아니라 `니얼굴`로 평가됩니다.

### 선언
```
이거 ㄹㅇ <이름>인 부분[ ][ㅋ][ㅋ]
<코드>
판사님도 [ㅇㅈ/인정]하시죠? 네[ ]그렇습니다
```

### return
- 반환 값이 없을 경우: `응 아니야~`
- 반환 값이 있을 경우: `응 <값>~`

### 호출
```
오지고[ 지리고][ 렛잇고] <이름>[이]고 {<인수>[이]고}* 미쳐버린 부분
```

## 표준 입출력
### 출력
```
앙 <값>띠[ ]ㅋ
```
해당 값을 문자열의 형태로 `stdout`에 출력합니다.

### 줄 단위 출력
```
앙 <값>띠[ ]~
```
해당 값을 문자열의 형태로 `stdout`에 출력한 후, 시스템에 맞는 개행 문자를 끝에 덧붙입니다.

### 문자 출력
```
앙 <값>띠[ ]ㅋ[ ]~
```
해당 값을 문자의 형태로 `stdout`에 출력합니다. 해당 값이 0 이상 255 이하의 값이 아닐 경우 구현체는 적절히 0 이상 255 이하의 값으로 변환해 출력해야 합니다.

### 숫자 입력
```
<이름> 이거 ㄹㅇ ㅆㅅㅌㅊ인거 ㅇㅈ? ㅇ[ ]ㅇㅈ[~]*
```
해당 이름을 가진 변수에 `stdin`으로부터 숫자를 입력 받아 대입합니다. 입력 받을 수 없을 경우 `니얼굴` 값이 대입됩니다.

### 문자 입력
```
<이름> 이거 ㄹㅇ ㅆㅎㅌㅊ인거 ㅇㅈ? ㅇㅇㄴㅇ[~]*
```
해당 이름을 가진 변수에 `stdin`으로부터 1바이트를 입력 받아 ASCII 값을 대입합니다. 입력 받을 수 없을 경우 `니얼굴` 값이 대입됩니다.

## 조건문
### if
```
<값>일[ ]때 시청자들이 역으로 몰카[ ]하는거임
```
값이 참일 경우 실행합니다.

### else if
```
<값>일[ ]때 열혈팬 시청자들 디오니소스[ ]+[ ]샌즈 분장하고 깜짝[ ]등장[ ]!+
```
값이 참일 경우 실행합니다.

### else
```
그런데 갑자기 분위기 싸해지는거임
```
if, 모든 else if 문이 거짓일 경우 실행합니다.

### end if
```
유[튭/튜브/투브]각[?] [ㅇㅋ/오케/오케이][!]
```
- 한 쌍의 조건문은 if로 시작해 end if로 끝납니다.
- if~end if 사이에는 else if가 0개 이상 추가될 수 있습니다.
- end if 앞에 else가 1개 추가될 수 있습니다.
- 조건은 위에서 아래로 순서대로 평가됩니다.

## 반복문
```
와 방금 개꿀잼 시나리오 생각해냄 <값>?+
<코드>
방금 상상한건데 스토리 ㅍㅌㅊ?+ ㅆㅅㅅㅌㅊ?+
```
값이 참일 경우 반복합니다. C의 `while`과 같습니다.
- break: `아...* 이건 쫌 아니지 않나요?`
- continue: `뭐지? 개꿀잼 몰카인가?`

## 기타
### 조건의 평가
- 값의 타입이 `undefined`일 경우 거짓으로 평가됩니다.
- 값의 타입이 `number`일 경우, 0일 경우 거짓으로, 그 외의 값일 경우 참으로 평가됩니다.
- 값의 타입이 `string`일 경우, 빈 문자열일 경우 거짓으로, 그 외의 값일 경우 참으로 평가됩니다.
- 값의 타입이 `function`일 경우 참으로 평가됩니다.

### rvalue
- `!<값>`: 값이 참일 경우 거짓을, 거짓일 경우 참을 나타냅니다.
- `<값>+-*/%<값>`: 사칙 연산을 나타냅니다. 두 값의 타입이 다르면 적절한 형 변환이 일어납니다.
	- 양 쪽 값의 타입이 둘 다 `undefined`일 경우 식은 `number` 타입의 1으로 평가됩니다.
	- 적어도 한 쪽 값의 타입이 `function`일 경우 식은 `니얼굴`로 평가됩니다.
	- `string`에 대해 *,/,% 연산을 적용할 경우 식은 `니얼굴`로 평가됩니다.
- `<값>==<값>`: 두 값이 같을 경우 참을, 다를 경우 거짓을 나타냅니다. 두 값의 타입이 다르면 적절한 형 변환이 일어납니다.
- `<값>!=<값>`: 두 값이 다를 경우 참을, 같을 경우 거짓을 나타냅니다. 두 값의 타입이 다르면 적절한 형 변환이 일어납니다.
- `<값>===<값>`: 두 값이 같을 경우 참을, 다를 경우 거짓을 나타냅니다. 두 값의 타입이 다르면 거짓을 나타냅니다.
- `<값>!==<값>`: 두 값이 다를 경우 참을, 같을 경우 거짓을 나타냅니다. 두 값의 타입이 다르면 참을 나타냅니다.
- `<값>><값>`: 왼쪽 값이 더 클 경우 참을, 그렇지 않을 경우 거짓을 나타냅니다. 두 값의 타입이 다르면 적절한 형 변환이 일어납니다.
	- 양 쪽 값의 타입이 둘 다 `undefined`일 경우 식은 거짓으로 평가됩니다.
	- 적어도 한 쪽 값의 타입이 `function`일 경우 식은 `니얼굴`로 평가됩니다.
- `<값>>=<값>`: 왼쪽 값이 더 크거나 오른쪽 값과 같을 경우 참을, 그렇지 않을 경우 거짓을 나타냅니다. 두 값의 타입이 다르면 적절한 형 변환이 일어납니다.
	- 양 쪽 값의 타입이 둘 다 `undefined`일 경우 식은 참으로 평가됩니다.
	- 적어도 한 쪽 값의 타입이 `function`일 경우 식은 `니얼굴`로 평가됩니다.
- `<값><<값>`: 오른쪽 값이 더 클 경우 참을, 그렇지 않을 경우 거짓을 나타냅니다. 두 값의 타입이 다르면 적절한 형 변환이 일어납니다.
	- 양 쪽 값의 타입이 둘 다 `undefined`일 경우 식은 거짓으로 평가됩니다.
	- 적어도 한 쪽 값의 타입이 `function`일 경우 식은 `니얼굴`로 평가됩니다.
- `<값><=<값>`: 오른쪽 값이 더 크거나 왼쪽 값과 같을 경우 참을, 그렇지 않을 경우 거짓을 나타냅니다. 두 값의 타입이 다르면 적절한 형 변환이 일어납니다.
	- 양 쪽 값의 타입이 둘 다 `undefined`일 경우 식은 참으로 평가됩니다.
	- 적어도 한 쪽 값의 타입이 `function`일 경우 식은 `니얼굴`로 평가됩니다.

### 형 변환
- `undefined`와 `number`: `undefined`이 `number`로 형 변환되며, 0을 가집니다.
	- 사칙 연산과 크기 비교 연산(>,>=,<,<=)에만 적용됩니다.
- `undefined`와 `string`: `undefined`이 `string`으로 형 변환되며, 빈 문자열을 가집니다.
	- 사칙 연산과 크기 비교 연산에만 적용됩니다.
- `number`와 `string`: `string`이 `number`로 형 변환되며, `string`을 숫자로 변환할 수 있으면 숫자로 변환한 값을, 숫자로 변환할 수 없으면 0을 가집니다. 숫자로의 형 변환은 `string`의 가장 첫 번째 글자부터 숫자로 변환할 수 있는 글자까지만 변환합니다.